<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
          integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
          crossorigin=""/>
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="scripts/leaflet-src.js"></script>
    <script src="scripts/Leaflet.Editable.js"></script>
    <script src="scripts/jquery.js"></script>
    <script src="scripts/TM.js"></script>
    <script src="scripts/initJavaController.js"></script>
    <script>
        let JAVA = initJava();

        document.addEventListener('DOMContentLoaded', function () {
            TM.addInitHook(function () {
                //TM.utils.setPosByIp();
                // define methods in window for java
                window.getFromJava = TM.utils.getFromJava;
                window.resizeMap = TM.utils.resizeMap;
                window.selectLine = TM.utils.selectLine;
                window.unSelectLine = TM.utils.unSelectLine;
                window.startTrack = TM.utils.startTrack;
                window.startRegion = TM.utils.startRegion;
                window.addMarker = TM.utils.zoomPlus;
                window.zoomMinus = TM.utils.zoomMinus;
                window.getZoom = TM.utils.getZoom;
                window.setPointsRadius = TM.utils.setPointsRadius;
                window.setPointRadius = TM.utils.setPointRadius;
                window.initJavaController = TM.utils.initJavaController;
                window.deletePoint = TM.utils.deletePoint;
                window.deleteLine = TM.utils.deleteLine;
                window.removeToolBars = TM.utils.removeToolBars;
                window.setMapUrl = TM.utils.setMapUrl;
                window.addActiveLine = TM.utils.addActiveLine;
                window.addMarker = TM.utils.addMarker;
                window.startMarker = TM.utils.startMarker;
                window.addGeoJson = TM.utils.addGeoJson;

            }).init();
        }, false);
    </script>
    <title>UnderwaterMapProject</title>
</head>
<body>
<div id="mapid"></div>
</body>
</html>